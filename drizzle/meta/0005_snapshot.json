{
  "id": "447c5f6d-6afb-4d46-9084-5f27201a2341",
  "prevId": "c159746d-16ea-40c0-86e7-57a619982dda",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "aggregate_tasks": {
      "name": "aggregate_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "countries": {
          "name": "countries",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "total_sub_tasks": {
          "name": "total_sub_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completed_sub_tasks": {
          "name": "completed_sub_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_sub_tasks": {
          "name": "failed_sub_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "aggregate_tasks_status_idx": {
          "name": "aggregate_tasks_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "aggregate_tasks_created_idx": {
          "name": "aggregate_tasks_created_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "automation_logs": {
      "name": "automation_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "lead_id": {
          "name": "lead_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "rating_id": {
          "name": "rating_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "action_data": {
          "name": "action_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executed_at": {
          "name": "executed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "company_automation_idx": {
          "name": "company_automation_idx",
          "columns": [
            "company_id"
          ],
          "isUnique": false
        },
        "automation_status_idx": {
          "name": "automation_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "automation_logs_company_id_companies_id_fk": {
          "name": "automation_logs_company_id_companies_id_fk",
          "tableFrom": "automation_logs",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "automation_logs_lead_id_leads_id_fk": {
          "name": "automation_logs_lead_id_leads_id_fk",
          "tableFrom": "automation_logs",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "automation_logs_rating_id_ratings_id_fk": {
          "name": "automation_logs_rating_id_ratings_id_fk",
          "tableFrom": "automation_logs",
          "tableTo": "ratings",
          "columnsFrom": [
            "rating_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "business_lines": {
      "name": "business_lines",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_key": {
          "name": "api_key",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "business_lines_name_idx": {
          "name": "business_lines_name_idx",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "business_lines_active_idx": {
          "name": "business_lines_active_idx",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "business_lines_name_unique": {
          "name": "business_lines_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      }
    },
    "companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_size": {
          "name": "estimated_size",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scraped_at": {
          "name": "scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "domain_idx": {
          "name": "domain_idx",
          "columns": [
            "domain"
          ],
          "isUnique": false
        },
        "source_idx": {
          "name": "source_idx",
          "columns": [
            "source"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "contacts": {
      "name": "contacts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "lead_id": {
          "name": "lead_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "mobile": {
          "name": "mobile",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "contacts_lead_idx": {
          "name": "contacts_lead_idx",
          "columns": [
            "lead_id"
          ],
          "isUnique": false
        },
        "contacts_email_idx": {
          "name": "contacts_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "contacts_lead_id_leads_id_fk": {
          "name": "contacts_lead_id_leads_id_fk",
          "tableFrom": "contacts",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "customer_profiles": {
      "name": "customer_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "business_line_id": {
          "name": "business_line_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "rating_prompt": {
          "name": "rating_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "customer_profiles_business_line_idx": {
          "name": "customer_profiles_business_line_idx",
          "columns": [
            "business_line_id"
          ],
          "isUnique": false
        },
        "customer_profiles_name_idx": {
          "name": "customer_profiles_name_idx",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "customer_profiles_active_idx": {
          "name": "customer_profiles_active_idx",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "customer_profiles_business_line_id_business_lines_id_fk": {
          "name": "customer_profiles_business_line_id_business_lines_id_fk",
          "tableFrom": "customer_profiles",
          "tableTo": "business_lines",
          "columnsFrom": [
            "business_line_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "intent_signals": {
      "name": "intent_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "signal_type": {
          "name": "signal_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "company_signals_idx": {
          "name": "company_signals_idx",
          "columns": [
            "company_id"
          ],
          "isUnique": false
        },
        "signal_type_idx": {
          "name": "signal_type_idx",
          "columns": [
            "signal_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "intent_signals_company_id_companies_id_fk": {
          "name": "intent_signals_company_id_companies_id_fk",
          "tableFrom": "intent_signals",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "lead_ratings": {
      "name": "lead_ratings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "lead_id": {
          "name": "lead_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "overall_rating": {
          "name": "overall_rating",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "suggestion": {
          "name": "suggestion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "think": {
          "name": "think",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "lead_ratings_lead_idx": {
          "name": "lead_ratings_lead_idx",
          "columns": [
            "lead_id"
          ],
          "isUnique": false
        },
        "lead_ratings_score_idx": {
          "name": "lead_ratings_score_idx",
          "columns": [
            "overall_rating"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "lead_ratings_lead_id_leads_id_fk": {
          "name": "lead_ratings_lead_id_leads_id_fk",
          "tableFrom": "lead_ratings",
          "tableTo": "leads",
          "columnsFrom": [
            "lead_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "lead_ratings_lead_id_unique": {
          "name": "lead_ratings_lead_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "lead_id"
          ]
        }
      }
    },
    "leads": {
      "name": "leads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "industry": {
          "name": "industry",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "employee_count": {
          "name": "employee_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_size": {
          "name": "estimated_size",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "raw_data": {
          "name": "raw_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rating_status": {
          "name": "rating_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "rating_error": {
          "name": "rating_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "crm_sync_status": {
          "name": "crm_sync_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "crm_lead_id": {
          "name": "crm_lead_id",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "crm_synced_at": {
          "name": "crm_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "crm_sync_error": {
          "name": "crm_sync_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enrich_status": {
          "name": "enrich_status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "enriched_at": {
          "name": "enriched_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "enrich_error": {
          "name": "enrich_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scraped_at": {
          "name": "scraped_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "leads_task_idx": {
          "name": "leads_task_idx",
          "columns": [
            "task_id"
          ],
          "isUnique": false
        },
        "leads_domain_idx": {
          "name": "leads_domain_idx",
          "columns": [
            "domain"
          ],
          "isUnique": false
        },
        "leads_rating_status_idx": {
          "name": "leads_rating_status_idx",
          "columns": [
            "rating_status"
          ],
          "isUnique": false
        },
        "leads_enrich_status_idx": {
          "name": "leads_enrich_status_idx",
          "columns": [
            "enrich_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "leads_task_id_tasks_id_fk": {
          "name": "leads_task_id_tasks_id_fk",
          "tableFrom": "leads",
          "tableTo": "tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ratings": {
      "name": "ratings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "total_score": {
          "name": "total_score",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "breakdown": {
          "name": "breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icebreaker": {
          "name": "icebreaker",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "company_ratings_idx": {
          "name": "company_ratings_idx",
          "columns": [
            "company_id"
          ],
          "isUnique": false
        },
        "score_idx": {
          "name": "score_idx",
          "columns": [
            "total_score"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ratings_company_id_companies_id_fk": {
          "name": "ratings_company_id_companies_id_fk",
          "tableFrom": "ratings",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "search_points": {
      "name": "search_points",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "latitude": {
          "name": "latitude",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "longitude": {
          "name": "longitude",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "sequence_number": {
          "name": "sequence_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "results_found": {
          "name": "results_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "results_saved": {
          "name": "results_saved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "search_points_task_idx": {
          "name": "search_points_task_idx",
          "columns": [
            "task_id"
          ],
          "isUnique": false
        },
        "search_points_status_idx": {
          "name": "search_points_status_idx",
          "columns": [
            "task_id",
            "status"
          ],
          "isUnique": false
        },
        "search_points_sequence_idx": {
          "name": "search_points_sequence_idx",
          "columns": [
            "task_id",
            "sequence_number"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "search_points_task_id_tasks_id_fk": {
          "name": "search_points_task_id_tasks_id_fk",
          "tableFrom": "search_points",
          "tableTo": "tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "task_metrics": {
      "name": "task_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "task_type": {
          "name": "task_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "total_count": {
          "name": "total_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_count": {
          "name": "failed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "metrics_date_idx": {
          "name": "metrics_date_idx",
          "columns": [
            "date"
          ],
          "isUnique": false
        },
        "metrics_type_idx": {
          "name": "metrics_type_idx",
          "columns": [
            "task_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tasks": {
      "name": "tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "aggregate_task_id": {
          "name": "aggregate_task_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "query": {
          "name": "query",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_count": {
          "name": "target_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "progress": {
          "name": "progress",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_leads": {
          "name": "total_leads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success_leads": {
          "name": "success_leads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_leads": {
          "name": "failed_leads",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tasks_status_idx": {
          "name": "tasks_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "tasks_source_idx": {
          "name": "tasks_source_idx",
          "columns": [
            "source"
          ],
          "isUnique": false
        },
        "tasks_created_idx": {
          "name": "tasks_created_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "tasks_aggregate_task_idx": {
          "name": "tasks_aggregate_task_idx",
          "columns": [
            "aggregate_task_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tasks_aggregate_task_id_aggregate_tasks_id_fk": {
          "name": "tasks_aggregate_task_id_aggregate_tasks_id_fk",
          "tableFrom": "tasks",
          "tableTo": "aggregate_tasks",
          "columnsFrom": [
            "aggregate_task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}